<!DOCTYPE html>
<meta charset = utf8>
<html>
   
<head>
    <title>Example with HW button</title>
</head>    

<body>
    
<canvas id="smile" width="200" height="200" fillstyle="#007700#">
    <p>Ваш браузер не поддерживает рисование.</p>
</canvas>
   
<div id="print1"></div>

<script type="text/javascript">
"use strict"; // in order to use clasess

var divElement = document.getElementById("print1"); // var for div el.

function log(msg) {
    divElement.innerHTML += "<div>" + msg + "</div>"; // print to div
}

var ws = new WebSocket('ws://172.16.22.134:8888/');

ws.onmessage = function (event) {
    var qq=event.data;
    log(qq);
    if (qq=="1")
    {
        var c = document.getElementById("smile");
        var ctx = c.getContext("2d");
        ctx.fillStyle = "#FF0000";
        ctx.fillRect(20, 20, 150, 100);
    }
    else
    {
        var c = document.getElementById("smile");
        var ctx = c.getContext("2d");
        ctx.fillStyle = "#00FF00";
        ctx.fillRect(20, 20, 150, 100);
        
    }
}

ws.onclose = function (value) {
    log("Connection closed.");
}

</script>
   
</body>    
   
</html>